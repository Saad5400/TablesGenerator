import{s as Ue,n as be,r as me,h as Ne}from"../chunks/scheduler.e7a8e9ed.js";import{S as We,i as Fe,g as h,s as V,m as Z,h as f,j as L,A as H,c as j,n as x,f as A,k as w,B as Pe,a as ae,z as a,C as $,D as ce,E as z,F as qe,G as Se,e as ke,o as de,I as ge}from"../chunks/index.3fec498f.js";function te(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const Xe=async({url:n})=>({searchParams:n.searchParams}),nt=Object.freeze(Object.defineProperty({__proto__:null,load:Xe},Symbol.toStringTag,{value:"Module"}));function Ye(n){return"day"in n&&"period"in n}function Ke(n){return"group"in n&&"teacher"in n&&Array.isArray(n.periods)&&n.periods.every(Ye)}function Ae(n){return"name"in n&&Array.isArray(n.groups)&&n.groups.every(Ke)}function we(n,t,l){const s=n.slice();return s[21]=t[l],s[23]=l,s}function De(n,t,l){const s=n.slice();return s[24]=t[l],s}function Me(n,t,l){const s=n.slice();return s[27]=t[l],s}function Ce(n){const t=n.slice(),l=Te(t[21],t[27]+1,t[24]+1);return t[30]=l,t}function Ie(n,t,l){const s=n.slice();return s[31]=t[l],s[32]=t,s[24]=l,s}function Je(n,t,l){const s=n.slice();return s[30]=t[l],s[33]=t,s[27]=l,s}function Be(n,t,l){const s=n.slice();return s[34]=t[l],s[35]=t,s[36]=l,s}function Le(n){let t,l,s,e="Day",o,_="Sunday",c,S="Monday",P,T="Tuesday",b,N="Wednesday",g,p="Thursday",O,i,C,d="Period",D,M="1",y,R="2",E,v="3",r,u="4",m,B="5",U,q="6",J,X="7",K,he="8",Y,F="9",ee,re="10",W,I="11",k,G="12",le,oe,ue;function fe(){n[16].call(l,n[35],n[36])}function ve(...ne){return n[17](n[24],n[27],n[36],...ne)}function _e(){n[18].call(i,n[35],n[36])}function pe(...ne){return n[19](n[24],n[27],n[36],...ne)}return{c(){t=h("div"),l=h("select"),s=h("option"),s.textContent=e,o=h("option"),o.textContent=_,c=h("option"),c.textContent=S,P=h("option"),P.textContent=T,b=h("option"),b.textContent=N,g=h("option"),g.textContent=p,O=V(),i=h("select"),C=h("option"),C.textContent=d,D=h("option"),D.textContent=M,y=h("option"),y.textContent=R,E=h("option"),E.textContent=v,r=h("option"),r.textContent=u,m=h("option"),m.textContent=B,U=h("option"),U.textContent=q,J=h("option"),J.textContent=X,K=h("option"),K.textContent=he,Y=h("option"),Y.textContent=F,ee=h("option"),ee.textContent=re,W=h("option"),W.textContent=I,k=h("option"),k.textContent=G,le=V(),this.h()},l(ne){t=f(ne,"DIV",{class:!0});var se=L(t);l=f(se,"SELECT",{class:!0});var ie=L(l);s=f(ie,"OPTION",{"data-svelte-h":!0}),H(s)!=="svelte-o1x5yx"&&(s.textContent=e),o=f(ie,"OPTION",{"data-svelte-h":!0}),H(o)!=="svelte-n5m8hn"&&(o.textContent=_),c=f(ie,"OPTION",{"data-svelte-h":!0}),H(c)!=="svelte-kwgdja"&&(c.textContent=S),P=f(ie,"OPTION",{"data-svelte-h":!0}),H(P)!=="svelte-wyy3im"&&(P.textContent=T),b=f(ie,"OPTION",{"data-svelte-h":!0}),H(b)!=="svelte-1fr1tj6"&&(b.textContent=N),g=f(ie,"OPTION",{"data-svelte-h":!0}),H(g)!=="svelte-qqr5nd"&&(g.textContent=p),ie.forEach(A),O=j(se),i=f(se,"SELECT",{class:!0});var Q=L(i);C=f(Q,"OPTION",{"data-svelte-h":!0}),H(C)!=="svelte-smcz7u"&&(C.textContent=d),D=f(Q,"OPTION",{"data-svelte-h":!0}),H(D)!=="svelte-s3mayk"&&(D.textContent=M),y=f(Q,"OPTION",{"data-svelte-h":!0}),H(y)!=="svelte-1qn7u32"&&(y.textContent=R),E=f(Q,"OPTION",{"data-svelte-h":!0}),H(E)!=="svelte-ngoftk"&&(E.textContent=v),r=f(Q,"OPTION",{"data-svelte-h":!0}),H(r)!=="svelte-1pdmwum"&&(r.textContent=u),m=f(Q,"OPTION",{"data-svelte-h":!0}),H(m)!=="svelte-1xpgyec"&&(m.textContent=B),U=f(Q,"OPTION",{"data-svelte-h":!0}),H(U)!=="svelte-1ep4ej2"&&(U.textContent=q),J=f(Q,"OPTION",{"data-svelte-h":!0}),H(J)!=="svelte-1bj4i1k"&&(J.textContent=X),K=f(Q,"OPTION",{"data-svelte-h":!0}),H(K)!=="svelte-1dfjham"&&(K.textContent=he),Y=f(Q,"OPTION",{"data-svelte-h":!0}),H(Y)!=="svelte-d6eqz0"&&(Y.textContent=F),ee=f(Q,"OPTION",{"data-svelte-h":!0}),H(ee)!=="svelte-y0h8wa"&&(ee.textContent=re),W=f(Q,"OPTION",{"data-svelte-h":!0}),H(W)!=="svelte-1o9f62"&&(W.textContent=I),k=f(Q,"OPTION",{"data-svelte-h":!0}),H(k)!=="svelte-191lfee"&&(k.textContent=G),Q.forEach(A),le=j(se),se.forEach(A),this.h()},h(){s.__value=null,z(s,s.__value),o.__value="1",z(o,o.__value),c.__value="2",z(c,c.__value),P.__value="3",z(P,P.__value),b.__value="4",z(b,b.__value),g.__value="5",z(g,g.__value),w(l,"class","select variant-form-material"),n[34].day===void 0&&Ne(fe),C.__value=null,z(C,C.__value),D.__value="1",z(D,D.__value),y.__value="2",z(y,y.__value),E.__value="3",z(E,E.__value),r.__value="4",z(r,r.__value),m.__value="5",z(m,m.__value),U.__value="6",z(U,U.__value),J.__value="7",z(J,J.__value),K.__value="8",z(K,K.__value),Y.__value="9",z(Y,Y.__value),ee.__value="10",z(ee,ee.__value),W.__value="11",z(W,W.__value),k.__value="12",z(k,k.__value),w(i,"class","select variant-form-material"),n[34].period===void 0&&Ne(_e),w(t,"class","grid grid-cols-2 gap-2")},m(ne,se){ae(ne,t,se),a(t,l),a(l,s),a(l,o),a(l,c),a(l,P),a(l,b),a(l,g),ge(l,n[34].day,!0),a(t,O),a(t,i),a(i,C),a(i,D),a(i,y),a(i,E),a(i,r),a(i,m),a(i,U),a(i,J),a(i,K),a(i,Y),a(i,ee),a(i,W),a(i,k),ge(i,n[34].period,!0),a(t,le),oe||(ue=[$(l,"change",fe),$(l,"input",ve),$(i,"change",_e),$(i,"input",pe)],oe=!0)},p(ne,se){n=ne,se[0]&1&&ge(l,n[34].day),se[0]&1&&ge(i,n[34].period)},d(ne){ne&&A(t),oe=!1,me(ue)}}}function ze(n){let t,l,s,e,o,_,c,S,P;function T(){n[12].call(l,n[33],n[27])}function b(...i){return n[13](n[24],n[27],...i)}function N(){n[14].call(e,n[33],n[27])}function g(...i){return n[15](n[24],n[27],...i)}let p=te(n[30].periods),O=[];for(let i=0;i<p.length;i+=1)O[i]=Le(Be(n,p,i));return{c(){t=h("div"),l=h("input"),s=V(),e=h("input"),o=V(),_=h("div");for(let i=0;i<O.length;i+=1)O[i].c();c=V(),this.h()},l(i){t=f(i,"DIV",{class:!0});var C=L(t);l=f(C,"INPUT",{placeholder:!0,type:!0,class:!0}),s=j(C),e=f(C,"INPUT",{placeholder:!0,type:!0,class:!0}),o=j(C),_=f(C,"DIV",{});var d=L(_);for(let D=0;D<O.length;D+=1)O[D].l(d);d.forEach(A),c=j(C),C.forEach(A),this.h()},h(){w(l,"placeholder","Group Number"),w(l,"type","number"),w(l,"class","input variant-form-material"),w(e,"placeholder","Teacher"),w(e,"type","text"),w(e,"class","input variant-form-material"),w(t,"class","grid grid-cols-2 gap-2")},m(i,C){ae(i,t,C),a(t,l),z(l,n[30].group),a(t,s),a(t,e),z(e,n[30].teacher),a(t,o),a(t,_);for(let d=0;d<O.length;d+=1)O[d]&&O[d].m(_,null);a(t,c),S||(P=[$(l,"input",T),$(l,"input",b),$(e,"input",N),$(e,"input",g)],S=!0)},p(i,C){if(n=i,C[0]&1&&qe(l.value)!==n[30].group&&z(l,n[30].group),C[0]&1&&e.value!==n[30].teacher&&z(e,n[30].teacher),C[0]&65){p=te(n[30].periods);let d;for(d=0;d<p.length;d+=1){const D=Be(n,p,d);O[d]?O[d].p(D,C):(O[d]=Le(D),O[d].c(),O[d].m(_,null))}for(;d<O.length;d+=1)O[d].d(1);O.length=p.length}},d(i){i&&A(t),ce(O,i),S=!1,me(P)}}}function He(n){let t,l,s,e,o,_,c;function S(){n[10].call(l,n[32],n[24])}function P(...N){return n[11](n[24],...N)}let T=te(n[31].groups),b=[];for(let N=0;N<T.length;N+=1)b[N]=ze(Je(n,T,N));return{c(){t=h("div"),l=h("input"),s=V(),e=h("div");for(let N=0;N<b.length;N+=1)b[N].c();o=V(),this.h()},l(N){t=f(N,"DIV",{class:!0});var g=L(t);l=f(g,"INPUT",{placeholder:!0,type:!0,class:!0}),s=j(g),e=f(g,"DIV",{class:!0});var p=L(e);for(let O=0;O<b.length;O+=1)b[O].l(p);p.forEach(A),o=j(g),g.forEach(A),this.h()},h(){w(l,"placeholder","Course Name"),w(l,"type","text"),w(l,"class","col-span-1 input variant-form-material"),w(e,"class","col-span-2 space-y-4"),w(t,"class","grid grid-cols-3 gap-2")},m(N,g){ae(N,t,g),a(t,l),z(l,n[31].name),a(t,s),a(t,e);for(let p=0;p<b.length;p+=1)b[p]&&b[p].m(e,null);a(t,o),_||(c=[$(l,"input",S),$(l,"input",P)],_=!0)},p(N,g){if(n=N,g[0]&1&&l.value!==n[31].name&&z(l,n[31].name),g[0]&97){T=te(n[31].groups);let p;for(p=0;p<T.length;p+=1){const O=Je(n,T,p);b[p]?b[p].p(O,g):(b[p]=ze(O),b[p].c(),b[p].m(e,null))}for(;p<b.length;p+=1)b[p].d(1);b.length=T.length}},d(N){N&&A(t),ce(b,N),_=!1,me(c)}}}function Qe(n){let t,l='<span class="text-sm">No tables to show</span>';return{c(){t=h("div"),t.innerHTML=l,this.h()},l(s){t=f(s,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-262eii"&&(t.innerHTML=l),this.h()},h(){w(t,"class","flex flex-col items-center justify-center space-y-4")},m(s,e){ae(s,t,e)},p:be,d(s){s&&A(t)}}}function Ze(n){let t,l=te(n[1]),s=[];for(let e=0;e<l.length;e+=1)s[e]=Re(we(n,l,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=ke()},l(e){for(let o=0;o<s.length;o+=1)s[o].l(e);t=ke()},m(e,o){for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(e,o);ae(e,t,o)},p(e,o){if(o[0]&2){l=te(e[1]);let _;for(_=0;_<l.length;_+=1){const c=we(e,l,_);s[_]?s[_].p(c,o):(s[_]=Re(c),s[_].c(),s[_].m(t.parentNode,t))}for(;_<s.length;_+=1)s[_].d(1);s.length=l.length}},d(e){e&&A(t),ce(s,e)}}}function Ve(n){let t,l,s=n[30].course+"",e,o,_,c,S,P,T=n[30].group+"",b,N,g,p,O=n[30].teacher+"",i;return{c(){t=h("div"),l=h("span"),e=Z(s),o=V(),_=h("br"),c=V(),S=h("span"),P=Z("g: "),b=Z(T),N=V(),g=h("span"),p=Z("t: "),i=Z(O),this.h()},l(C){t=f(C,"DIV",{class:!0});var d=L(t);l=f(d,"SPAN",{class:!0});var D=L(l);e=x(D,s),D.forEach(A),o=j(d),_=f(d,"BR",{}),c=j(d),S=f(d,"SPAN",{class:!0});var M=L(S);P=x(M,"g: "),b=x(M,T),M.forEach(A),N=j(d),g=f(d,"SPAN",{class:!0});var y=L(g);p=x(y,"t: "),i=x(y,O),y.forEach(A),d.forEach(A),this.h()},h(){w(l,"class","text-sm"),w(S,"class","text-xs"),w(g,"class","text-xs"),w(t,"class","space-y-1 text-center bg-surface-600 text-surface-50 p-2")},m(C,d){ae(C,t,d),a(t,l),a(l,e),a(t,o),a(t,_),a(t,c),a(t,S),a(S,P),a(S,b),a(t,N),a(t,g),a(g,p),a(g,i)},p(C,d){d[0]&2&&s!==(s=C[30].course+"")&&de(e,s),d[0]&2&&T!==(T=C[30].group+"")&&de(b,T),d[0]&2&&O!==(O=C[30].teacher+"")&&de(i,O)},d(C){C&&A(t)}}}function je(n){let t,l=Te(n[21],n[27]+1,n[24]+1),s=l&&Ve(Ce(n));return{c(){t=h("td"),s&&s.c(),this.h()},l(e){t=f(e,"TD",{class:!0});var o=L(t);s&&s.l(o),o.forEach(A),this.h()},h(){w(t,"class","contents-when-children")},m(e,o){ae(e,t,o),s&&s.m(t,null)},p(e,o){o[0]&2&&(l=Te(e[21],e[27]+1,e[24]+1)),l?s?s.p(Ce(e),o):(s=Ve(Ce(e)),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&A(t),s&&s.d()}}}function Ge(n){let t,l,s=te([...Array(5).keys()]),e=[];for(let o=0;o<s.length;o+=1)e[o]=je(Me(n,s,o));return{c(){t=h("tr");for(let o=0;o<e.length;o+=1)e[o].c();l=V()},l(o){t=f(o,"TR",{});var _=L(t);for(let c=0;c<e.length;c+=1)e[c].l(_);l=j(_),_.forEach(A)},m(o,_){ae(o,t,_);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null);a(t,l)},p(o,_){if(_[0]&2){s=te([...Array(5).keys()]);let c;for(c=0;c<s.length;c+=1){const S=Me(o,s,c);e[c]?e[c].p(S,_):(e[c]=je(S),e[c].c(),e[c].m(t,l))}for(;c<e.length;c+=1)e[c].d(1);e.length=s.length}},d(o){o&&A(t),ce(e,o)}}}function Re(n){let t,l,s,e,o,_=n[21].days+"",c,S,P=n[21].hours+"",T,b,N,g,p,O="<tr><th>Sunday</th> <th>Monday</th> <th>Tuesday</th> <th>Wednesday</th> <th>Thursday</th></tr>",i,C,d,D=te([...Array(12).keys()]),M=[];for(let y=0;y<D.length;y+=1)M[y]=Ge(De(n,D,y));return{c(){t=h("div"),l=h("h4"),s=Z("#"),e=Z(n[23]),o=Z(": "),c=Z(_),S=Z(" Days, "),T=Z(P),b=Z(" Hours"),N=V(),g=h("table"),p=h("thead"),p.innerHTML=O,i=V(),C=h("tbody");for(let y=0;y<M.length;y+=1)M[y].c();d=V(),this.h()},l(y){t=f(y,"DIV",{});var R=L(t);l=f(R,"H4",{class:!0});var E=L(l);s=x(E,"#"),e=x(E,n[23]),o=x(E,": "),c=x(E,_),S=x(E," Days, "),T=x(E,P),b=x(E," Hours"),E.forEach(A),N=j(R),g=f(R,"TABLE",{class:!0});var v=L(g);p=f(v,"THEAD",{"data-svelte-h":!0}),H(p)!=="svelte-18j801t"&&(p.innerHTML=O),i=j(v),C=f(v,"TBODY",{});var r=L(C);for(let u=0;u<M.length;u+=1)M[u].l(r);r.forEach(A),v.forEach(A),d=j(R),R.forEach(A),this.h()},h(){w(l,"class","h4 w-full text-center bg-surface-700 p-2"),w(g,"class","table variant-glass")},m(y,R){ae(y,t,R),a(t,l),a(l,s),a(l,e),a(l,o),a(l,c),a(l,S),a(l,T),a(l,b),a(t,N),a(t,g),a(g,p),a(g,i),a(g,C);for(let E=0;E<M.length;E+=1)M[E]&&M[E].m(C,null);a(t,d)},p(y,R){if(R[0]&2&&_!==(_=y[21].days+"")&&de(c,_),R[0]&2&&P!==(P=y[21].hours+"")&&de(T,P),R[0]&2){D=te([...Array(12).keys()]);let E;for(E=0;E<D.length;E+=1){const v=De(y,D,E);M[E]?M[E].p(v,R):(M[E]=Ge(v),M[E].c(),M[E].m(C,null))}for(;E<M.length;E+=1)M[E].d(1);M.length=D.length}},d(y){y&&A(t),ce(M,y)}}}function xe(n){let t,l,s='<h1 class="h1">Term courses tables generator!</h1> <p class="w-fit text-start">Generate all the possible tables for your term&#39;s courses!</p>',e,o,_,c,S,P,T,b="Courses' Data",N,g,p,O,i,C,d,D="Paste",M,y,R,E,v,r,u,m,B,U,q,J,X,K,he,Y=te(n[0]),F=[];for(let I=0;I<Y.length;I+=1)F[I]=He(Ie(n,Y,I));function ee(I,k){return I[1].length>0&&I[1][0].courses.size>0?Ze:Qe}let re=ee(n),W=re(n);return{c(){t=h("main"),l=h("div"),l.innerHTML=s,e=V(),o=h("br"),_=V(),c=h("section"),S=h("label"),P=h("div"),T=h("span"),T.textContent=b,N=V(),g=h("span"),p=h("button"),O=Z("Copy"),C=V(),d=h("button"),d.textContent=D,M=V(),y=h("textarea"),E=V(),v=h("br"),r=V(),u=h("section");for(let I=0;I<F.length;I+=1)F[I].c();m=V(),B=h("br"),U=V(),q=h("section"),W.c(),J=V(),X=h("br"),this.h()},l(I){t=f(I,"MAIN",{class:!0});var k=L(t);l=f(k,"DIV",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-16lz6e0"&&(l.innerHTML=s),e=j(k),o=f(k,"BR",{}),_=j(k),c=f(k,"SECTION",{});var G=L(c);S=f(G,"LABEL",{class:!0});var le=L(S);P=f(le,"DIV",{class:!0});var oe=L(P);T=f(oe,"SPAN",{"data-svelte-h":!0}),H(T)!=="svelte-1h8owct"&&(T.textContent=b),N=j(oe),g=f(oe,"SPAN",{class:!0});var ue=L(g);p=f(ue,"BUTTON",{class:!0});var fe=L(p);O=x(fe,"Copy"),fe.forEach(A),C=j(ue),d=f(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-1jgqf3j"&&(d.textContent=D),ue.forEach(A),oe.forEach(A),M=j(le),y=f(le,"TEXTAREA",{class:!0,rows:!0}),L(y).forEach(A),le.forEach(A),G.forEach(A),E=j(k),v=f(k,"BR",{}),r=j(k),u=f(k,"SECTION",{class:!0});var ve=L(u);for(let pe=0;pe<F.length;pe+=1)F[pe].l(ve);ve.forEach(A),m=j(k),B=f(k,"BR",{}),U=j(k),q=f(k,"SECTION",{class:!0});var _e=L(q);W.l(_e),_e.forEach(A),J=j(k),X=f(k,"BR",{}),k.forEach(A),this.h()},h(){w(l,"class","max-w-fit space-y-5 mx-auto"),w(p,"class","btn btn-sm variant-glass-secondary"),p.disabled=i=!n[2],w(d,"class","btn btn-sm variant-glass-secondary"),w(g,"class",""),w(P,"class","flex flex-row justify-between"),w(y,"class","textarea variant-form-material"),w(y,"rows","2"),y.value=R=JSON.stringify(n[0],null,2),Pe(y,"!input-error",!n[2]),w(S,"class","label"),w(u,"class","space-y-4"),w(q,"class","space-y-4"),w(t,"class","container h-full mx-auto p-responsive")},m(I,k){ae(I,t,k),a(t,l),a(t,e),a(t,o),a(t,_),a(t,c),a(c,S),a(S,P),a(P,T),a(P,N),a(P,g),a(g,p),a(p,O),a(g,C),a(g,d),a(S,M),a(S,y),a(t,E),a(t,v),a(t,r),a(t,u);for(let G=0;G<F.length;G+=1)F[G]&&F[G].m(u,null);a(t,m),a(t,B),a(t,U),a(t,q),W.m(q,null),a(t,J),a(t,X),K||(he=[$(p,"click",n[8]),$(d,"click",n[9]),$(y,"input",n[3])],K=!0)},p(I,k){if(k[0]&4&&i!==(i=!I[2])&&(p.disabled=i),k[0]&1&&R!==(R=JSON.stringify(I[0],null,2))&&(y.value=R),k[0]&4&&Pe(y,"!input-error",!I[2]),k[0]&113){Y=te(I[0]);let G;for(G=0;G<Y.length;G+=1){const le=Ie(I,Y,G);F[G]?F[G].p(le,k):(F[G]=He(le),F[G].c(),F[G].m(u,null))}for(;G<F.length;G+=1)F[G].d(1);F.length=Y.length}re===(re=ee(I))&&W?W.p(I,k):(W.d(1),W=re(I),W&&(W.c(),W.m(q,null)))},i:be,o:be,d(I){I&&A(t),ce(F,I),W.d(),K=!1,me(he)}}}function Oe(){return{day:null,period:null}}function Ee(){return{group:null,periods:[Oe()],teacher:""}}function ye(){return{name:"",groups:[Ee()]}}function $e(n,t){t=JSON.parse(JSON.stringify(t)),t.day=parseInt(t.day),t.period=parseInt(t.period);let l=null;return n.forEach((s,e)=>{e=JSON.parse(JSON.stringify(e)),e.day=parseInt(e.day),e.period=parseInt(e.period),JSON.stringify(e)===JSON.stringify(t)&&(l=e)}),l??!1}function Te(n,t,l){let s=null;return n.courses.forEach((e,o)=>{o.day==t&&o.period==l&&(s=e)}),s}function et(n,t,l){let{data:s}=t,e=s.searchParams.get("courses")?JSON.parse(s.searchParams.get("courses")):[ye()],o=!0;function _(v){const u=v.target.value;try{l(0,e=JSON.parse(u)),l(2,o=e.every(Ae))}catch(m){console.error(m),l(2,o=!1)}}function c(v,r,u){l(0,e[r][u]=v.target.value,e),l(0,e=[...e]),r===e.length-1&&e[r][u]!==ye()[u]?l(0,e=[...e,ye()]):r<e.length-1&&!e[r][u]&&l(0,e=e.filter((m,B)=>B!==r))}function S(v,r,u,m){l(0,e[r].groups[u][m]=v.target.value,e),l(0,e=[...e]),u===e[r].groups.length-1&&e[r].groups[u][m]!==Ee()[m]?l(0,e[r].groups=[...e[r].groups,Ee()],e):u<e[r].groups.length-1&&!e[r].groups[u][m]&&l(0,e[r].groups=e[r].groups.filter((B,U)=>U!==u),e)}function P(v,r,u,m,B){l(0,e[r].groups[u].periods[m][B]=v.target.value,e),l(0,e=[...e]),m===e[r].groups[u].periods.length-1&&e[r].groups[u].periods[m][B]!==Oe()[B]?l(0,e[r].groups[u].periods=[...e[r].groups[u].periods,Oe()],e):m<e[r].groups[u].periods.length-1&&!e[r].groups[u].periods[m][B]&&l(0,e[r].groups[u].periods=e[r].groups[u].periods.filter((U,q)=>q!==m),e)}let T=[];function b(v){l(1,T=[]),v.forEach(u=>{u.groups.forEach(m=>{m.course=u.name})}),v[0].groups.forEach(u=>{const m={courses:new Map};u.periods.forEach(B=>{!B.day||!B.period||m.courses.set(B,u)}),m.courses.size>0&&T.push(m)}),v.slice(1).forEach(u=>{const m=[];u.groups.forEach(B=>{T.forEach(U=>{const q={courses:new Map};U.courses.forEach((X,K)=>{q.courses.set(K,X)});let J=!1;B.periods.forEach(X=>{!X.day||!X.period||($e(q.courses,X)?J=!0:q.courses.set(X,B))}),!J&&q.courses.size&&m.push(q)})}),l(1,T=m)}),l(1,T=T.filter(u=>u.courses.size>=v.length-1)),T.forEach(u=>{const m=new Set;let B=new Map;u.courses.forEach((q,J)=>{if(m.add(J.day),!B.has(J.day))B.set(J.day,[J.period,J.period]);else{const X=B.get(J.day);J.period<X[0]&&(X[0]=J.period),J.period>X[1]&&(X[1]=J.period)}}),u.days=m.size;let U=0;B.forEach(q=>{U+=q[1]-q[0]+1}),u.hours=U}),l(1,T=T.sort((u,m)=>u.days>m.days?1:u.days<m.days?-1:u.hours>m.hours?1:u.hours<m.hours?-1:0))}const N=()=>navigator.clipboard.writeText(JSON.stringify(e,null,2)),g=()=>{navigator.clipboard.readText().then(v=>{try{l(0,e=JSON.parse(v)),l(2,o=e.every(Ae))}catch(r){console.error(r),l(2,o=!1)}})};function p(v,r){v[r].name=this.value,l(0,e)}const O=(v,r)=>c(r,v,"name");function i(v,r){v[r].group=qe(this.value),l(0,e)}const C=(v,r,u)=>S(u,v,r,"group");function d(v,r){v[r].teacher=this.value,l(0,e)}const D=(v,r,u)=>S(u,v,r,"teacher");function M(v,r){v[r].day=Se(this),l(0,e)}const y=(v,r,u,m)=>P(m,v,r,u,"day");function R(v,r){v[r].period=Se(this),l(0,e)}const E=(v,r,u,m)=>P(m,v,r,u,"period");return n.$$set=v=>{"data"in v&&l(7,s=v.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&b(e),n.$$.dirty[0]&2&&console.log(T)},[e,T,o,_,c,S,P,s,N,g,p,O,i,C,d,D,M,y,R,E]}class st extends We{constructor(t){super(),Fe(this,t,et,xe,Ue,{data:7},null,[-1,-1])}}export{st as component,nt as universal};
